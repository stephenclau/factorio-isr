# Vanilla Factorio Event Patterns
# Core player and game events

events:
  player_join:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[JOIN\] (?P<player>\w+) joined the game'
    type: join
    emoji: 'âœ…ğŸ‘‹'
    message: '**{player}** joined the server'
    enabled: true
    priority: 2
    description: 'Player joins the server'
    channel: general  # Route to 'general' channel

  player_leave:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[LEAVE\] (?P<player>\w+) left the game'
    type: leave
    emoji: 'âŒğŸ‘‹'
    message: '**{player}** left the server'
    enabled: true
    priority: 2
    description: 'Player leaves the server'
    channel: general  # Route to 'general' channel

  mention_admins:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[CHAT\] (?P<player>\w+): (?P<message>.*@(?:admins?|mods?|moderators?|staff).*)'
    type: mention
    emoji: 'ğŸ“¢'
    message: '**{player}** mentioned admins: {message}'
    enabled: true
    priority: 5  # Higher priority than regular chat
    channel: admin  # Route to admin channel
    description: 'Player mentions admin/mod groups'

  mention_user:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[CHAT\] (?P<player>\w+): (?P<message>.*@\w+.*)'
    type: mention
    emoji: 'ğŸ‘¤'
    message: '**{player}**: {message}'
    enabled: true
    priority: 6  # Higher priority than regular chat
    channel: general
    description: 'Player mentions specific user'

  chat_message:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[CHAT\] (?P<player>\w+): (?P<message>.+)'
    type: chat
    emoji: 'ğŸ’¬'
    message: '**{player}**: {message}'
    enabled: true
    priority: 11
    description: 'Player chat message'
    channel: general  # Route to 'general' channel

  player_death_train:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) was killed by a locomotive\.$'
    type: death
    emoji: 'ğŸš‚ğŸ’€'
    message: '**{player}** was killed by a train'
    enabled: true
    priority: 15
    channel: general  # Route to 'general' channel

  player_death_fall:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) fell to their death\.$'
    type: death
    emoji: 'ğŸŒ„ğŸ’€'
    message: '**{player}** fell to their death'
    enabled: false
    priority: 16
    channel: general  # Route to 'general' channel
    
  player_suicide:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) committed suicide\.$'
    type: death
    emoji: 'ğŸ’¥ğŸ”«'
    message: '**{player}** committed suicide'
    enabled: true
    priority: 16
    channel: general  # Route to 'general' channel
    description: 'Player suicide (grenade/rocket/etc)'
    
  player_death_space:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) died in space\.$'
    type: death
    emoji: 'ğŸŒŒğŸ’€'
    message: '**{player}** died in space'
    enabled: true
    priority: 18
    channel: general  # Route to 'general' channel
    description: 'Player died on space platform'

  player_death_biters:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) was killed by (?P<message>.+)\.$'
    type: death
    emoji: 'ğŸª²ğŸ’€'
    message: '**{player}** was killed by {message}'
    enabled: true
    priority: 95
    channel: general  # Route to 'general' channel

  player_death_catchall:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) (?:was killed by|died)(?: (?P<message>.+))?\.$'
    type: death
    emoji: 'ğŸ’€'
    message: '**{player}** {message}'
    enabled: true
    priority: 99  # ensure specific patterns have smaller numbers (higher priority)
    channel: general  # Route to 'general' channel
  
  server_started:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[SERVER\] Server started\.$'
    type: server
    emoji: 'âœ…'
    message: '***Server started successfully***'
    enabled: true
    priority: 1
    description: 'Server startup'

  error_occurred:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[ERROR\] (?P<message>.+)$'
    type: server
    emoji: 'âŒ'
    message: '**Error:** {message}'
    enabled: true
    priority: 5
    description: 'Server error message'
   
  
  server_stopping:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[SERVER\] Server shutting down\.$'
    type: server
    emoji: 'ğŸš¨'
    message: '***Server is shutting down***'
    enabled: true
    priority: 5
    description: 'Server shutdown initiated'

  server_saving:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[SERVER\] Saving game\.$'
    type: server
    emoji: 'ğŸ’¾'
    message: '***Game saved***'
    enabled: false
    priority: 25
    description: 'Autosave (disabled by default, very frequent)'

  server_restart_warning:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[SERVER\] Server restart in (\d+) minutes?$'
    type: server
    emoji: 'â°'
    message: '***Server restart in {message}***'
    enabled: true
    priority: 5
    description: 'Restart warning'

  server_message:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[SERVER\] (?P<message>.+)$'
    type: server
    emoji: 'ğŸ“¢'
    message: '**Server:** {message}'
    enabled: true
    priority: 15
    description: 'Generic server message'

  admin_command:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[ADMIN\] (?P<player>\w+) executed command: (?P<message>.+)$'
    type: server
    emoji: 'ğŸ”§'
    message: '**{player}** ran admin command: {message}'
    enabled: true
    priority: 10
    description: 'Admin command execution'

  player_promoted:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) promoted (?P<message>\w+) to admin$'
    type: server
    emoji: 'ğŸ‘‘'
    message: '**{player}** promoted {message} to admin'
    enabled: true
    priority: 10
    description: 'Player promotion'

  player_demoted:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) demoted (?P<message>\w+) from admin$'
    type: server
    emoji: 'ğŸ“‰'
    message: '**{player}** demoted {message} from admin'
    enabled: true
    priority: 10
    description: 'Player demotion'

  player_kicked:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) was kicked by (?P<message>\w+)\. Reason: (?P<reason>.+)$'
    type: server
    emoji: 'ğŸšª'
    message: '**{player}** was kicked by {message}'
    enabled: true
    priority: 10
    description: 'Player kicked from server'

  player_banned:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<player>\w+) was banned by (?P<message>\w+)\. Reason: (?P<reason>.+)$'
    type: server
    emoji: 'ğŸ”¨'
    message: '**{player}** was banned by {message}'
    enabled: true
    priority: 10
    description: 'Player banned from server'

  mod_loaded:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[MOD\] Loaded mod: (.+) \((.+)\)$'
    type: server
    emoji: 'ğŸ§©'
    message: 'Loaded mod: {message}'
    enabled: false
    priority: 25
    description: 'Mod loading (disabled, startup spam)'

  warning_occurred:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[WARNING\] (?P<message>.+)$'
    type: server
    emoji: 'âš ï¸'
    message: '**Warning:** {message}'
    enabled: true
    priority: 8
    description: 'Server warning message'

  info_message:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[INFO\] (?P<message>.+)$'
    type: server
    emoji: 'â„¹ï¸'
    message: '**Info:** {message}'
    enabled: true
    priority: 27
    description: 'Server Informational log'

  catchall_debug:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(?P<message>.+)$'
    type: server
    emoji: 'âœï¸ğŸ'
    message: '**Debug:** {message}'
    enabled: false
    priority: 99
    description: 'anything after the timestamp'