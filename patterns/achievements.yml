# Factorio ISR Patterns - AGPL-3.0 or Commercial
# Copyright (c) 2025 Stephen C Lau


# Achievement and Milestone Event Patterns
# Track player and factory progression

events:
  achievement_earned:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[ACHIEVEMENT\] (\w+) earned (.+)\.$'
    type: milestone
    emoji: 'ğŸ†'
    message: '**{player}** earned achievement: {message}'
    enabled: true
    priority: 11
    description: 'Player earned an achievement'
    channel: general  # Route to 'general' channel

  rocket_launched:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(\w+) launched a rocket!$'
    type: milestone
    emoji: 'ğŸš€'
    message: '**{player}** launched a rocket!'
    enabled: true
    priority: 5
    description: 'Rocket launch - highest priority'
    channel: general  # Route to 'general' channel

  production_milestone:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[MILESTONE\] Produced ([0-9,]+) (.+)\.$'
    type: milestone
    emoji: 'ğŸ“Š'
    message: 'Production milestone: {message}'
    enabled: true
    priority: 11
    description: 'Factory production milestone'
    channel: general  # Route to 'general' channel

  time_played_milestone:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?\[MILESTONE\] Server has been running for (.+)\.$'
    type: milestone
    emoji: 'â°'
    message: '***Server uptime: {message}***'
    enabled: true
    priority: 11
    description: 'Server uptime milestone'
    channel: general  # Route to 'general' channel

  first_blood:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(\w+) killed their first biter!$'
    type: milestone
    emoji: 'ğŸ¯'
    message: '**{player}** killed their first biter!'
    enabled: true
    priority: 11
    description: 'First enemy kill'
    channel: general  # Route to 'general' channel

  blueprint_created:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(\w+) created a blueprint: (.+)$'
    type: task
    emoji: 'ğŸ“'
    message: '**{player}** created blueprint: {message}'
    enabled: false
    priority: 20
    description: 'Blueprint creation (disabled by default, spammy)'
    channel: general  # Route to 'general' channel

  blueprint_imported:
    pattern: '^(?:\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} )?(\w+) imported a blueprint$'
    type: task
    emoji: 'ğŸ“¥'
    message: '**{player}** imported a blueprint'
    enabled: false
    priority: 20
    description: 'Blueprint import (disabled by default)'
    channel: general  # Route to 'general' channel